# Вступительная задача 1с вариант 141
---
## Запуск

Для запуска скомпилируйте main.cpp под 17 плюсами и запустите полученный бинарник.

---

## Алгоритм
Для того, чтобы узнать, можно ли разложить пасьянс мы будем запускать алгоритм "играющий" в игру большое количество раз с разными параметрами random seed. Таким образом мы значительно повышаем вероятность того, что если решение существует, то оно будет найдено.

---
## Алгоритм игры
Для определения хода, который в конкретной ситуации сделает программа будем использовать несколько эвристик:


0) Если карт всего осталось на 2 или 1 стопку, то выводим да.(Возможно, есть контрпример, но я не придумал, можно в качестве улучшения алгоритма продумать это).
1) Если можно сделать такой ход, что мы "снесем" набор карт, то мы всегда его делаем, так как это всегда верное решение
2) Если такого хода не существует, то мы ищем какие стопки из подряд идущих карт мы можем сделать. Из таких стопок мы выбираем наибольшую по размеру и делаем ее. Если максимальный размер стопки меньше трех, то переходим к шагу 3.
3) Если можем положить старшую карту в пустую стопку, делаем это.
4) Делаем рандомный ход из всех возможных.
Таким образом мы по сути эмулируем игру человека: жадно делаем хорошие ходы, если их нет, пытаемся понемногу что-то собрать. Это довольно хорошо работает, так как в классическом одномастном spider solitaire человек выигрывает с очень большой вероятностью.

---
## Улучшение алгоритма

Если бы на написание задачи давалось больше времени, можно было бы применить и другие эвристики, улучшающие игру программы. Например можно реальзовать поиск возможности "снести" набор карт за ближайшие несколько ходов или генерацию последовательностей ходов в данной ситуации и поиска лучшего варианта (в данном случае функцией оценки "хорошести" позиции может служить количество стопок подряд идущих карт). 

---
## Улучшение репозитория
Я не успел разработать хоть какие-то нетривиальные тесты, проверяющие работу кода. Можно было бы декомпозировать код по папкам и собирать через Cmake.